Welcome to the Doctrine Migrations documentation!
=================================================

Doctrine Migrations is a command-line wrapper that uses Symfony Console and leverages the combined power of Doctrine
together with Baleen Migrations.

NOTE: this program is an early release and licensed under the GNU LESSER GENERAL PUBLIC LICENSE license. Please read the
`LICENSE` file attached to the source-code before using this program to migrate sensitive data. And of course: always
back up your data.

Installation
------------

Install with Composer:

.. code-block:: bash

   composer.phar install doctrine/migrations:~2.0@beta

Configuration
--------------

Then run the following command on the root directory of the project you want to migrate:

.. code-block:: bash

   ./vendor/bin/doctrine-migrations init

This will create a configuration file called `.migrations.yml`. Open it to edit the connection information in order
to let Doctrine Migrations know about your database.

Creating Migrations
-------------------

Creating a migration file is very easy, just run:

.. code-block:: bash

   ./vendor/bin/doctrine-migrations create [OptionalDescription]

A new migration file will be created inside your configured migrations folder.

Note that Doctrine Migrations uses PSR-4 standards for autoloading the generated migrations out of the configured
migrations directory. File names must conform to the following regex: ``YYYYMMDDHHMMSS[_A-Za-z0-9]+``.

Adding Your Code
----------------

If you open one of the generated migration files you'll see it has two empty methods: ``up()`` and ``down()``, which
will be called when migrating upwards or downwards (respectively). You can put any code you want inside those methods,
and the ObjectManager is available if you need it! Try ``$this->getObjectManager()`` or ``$this->om``.

